import{r as v,j as t,a as r}from"./app-BdN3KFFc.js";import{u as x,P as h}from"./PedidoForm-B9uNLIK2.js";import{u as b}from"./usePedidosCRUD-BbpVxAHR.js";import{A as P}from"./app-layout-BuiHcL-W.js";import{B as a}from"./button-HnChx-uO.js";/* empty css            */import"./trash-DGc9HMM9.js";import"./createLucideIcon-C6ckYpXG.js";import"./Edit-07XoRN38.js";import"./index-CCsJL7g1.js";import"./index-C1iwO0xC.js";import"./index-BQOpE9VR.js";import"./index-D6oCJvBO.js";import"./app-logo-icon-Bognycb7.js";function z({productos:d,pedido:e}){const{form:o,setData:n,addDetalle:c,updateDetalle:l,removeDetalle:m}=x({cliente_id:e.cliente_id??"",user_id:e.user_id??"",fecha:e.fecha??new Date().toISOString().split("T")[0],estado:e.estado??"pendiente",detalles:[],observacion:e.observacion??""}),{updatePedido:p}=b(),[u,i]=v.useState({}),f=async()=>{try{await p(`/pedidos/update/${e.id}`,o),i({}),alert("Pedido actualizado correctamente"),r.visit("/pedidos")}catch(s){console.log("Errores de validaciÃ³n:",s),i(s)}};return t.jsx(P,{breadcrumbs:[{title:"Pedidos",href:"/pedidos"}],children:t.jsxs("div",{className:"p-4",children:[t.jsxs("h1",{className:"text-2xl font-bold mb-4",children:["Editar Pedido ",e.id]}),t.jsx(a,{variant:"default",onClick:()=>r.visit("/pedidos/create"),className:"mb-4",children:"Nuevo Pedido"}),t.jsx(a,{variant:"secondary",onClick:()=>r.visit("/pedidos"),children:"Volver"}),t.jsx(h,{form:o,setData:n,addDetalle:c,updateDetalle:l,removeDetalle:m,onSubmit:f,productos:d,errors:u,pedido:e})]})})}export{z as default};
