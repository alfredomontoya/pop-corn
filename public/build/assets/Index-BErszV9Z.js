import{r as a,a as D,j as e,H as O}from"./app-BptPjD3z.js";import{A as _}from"./app-layout-CmfWQkF8.js";import w from"./ClientesSearchForm-Cyytxdnf.js";import A from"./ClientesTable-KYW4ElwU.js";import z from"./ClientesPagination-D_9X2tHz.js";import B from"./ClienteDetailModal-CsT2e7NH.js";import H from"./ClienteCreateModal-CRpupgxO.js";import{B as i}from"./button-YlEUOrkT.js";import{D as f,a as h,b as j,c as C,d as S}from"./dialog-B1nusEzF.js";import{c as L}from"./createLucideIcon-B3T4r_g0.js";import R from"./ClienteUpdateModal-CfrPP8dm.js";/* empty css            */import"./Edit-DSh88ZNs.js";import"./index-CKqZ0YDH.js";import"./index-CX3o33-i.js";import"./index-CQYQARK0.js";import"./index-B1quYXf_.js";import"./app-logo-icon-BGFTalqf.js";import"./ClienteForm-DrwEaXJa.js";import"./input-DcZ4YC8s.js";import"./label-BdaOFR1B.js";import"./select-BYqaNxpo.js";import"./index-CEpUTzNt.js";import"./chevron-up-BckAPb2f.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],q=L("CircleCheckBig",U);function I(t){const[s,o]=a.useState(t);return{search:s,setSearch:o,handleSearch:d=>{d.preventDefault(),D.get(route("clientes.index"),{search:s},{preserveState:!0})}}}function T({open:t,onClose:s}){return e.jsx(f,{open:t,onOpenChange:s,children:e.jsxs(h,{className:"max-w-sm text-center",children:[e.jsxs(j,{children:[e.jsxs(C,{className:"flex justify-center items-center gap-2",children:[e.jsx(q,{className:"text-green-500"})," Registro exitoso"]}),e.jsx(S,{children:"El cliente fue registrado correctamente."})]}),e.jsx("div",{className:"mt-4",children:e.jsx(i,{onClick:s,className:"w-full",children:"Aceptar"})})]})})}function F({open:t,onClose:s,onConfirm:o,itemName:c}){return e.jsx(f,{open:t,onOpenChange:s,children:e.jsxs(h,{className:"max-w-md",children:[e.jsxs(j,{children:[e.jsx(C,{children:"Confirmar eliminación"}),e.jsxs(S,{children:["¿Estás seguro que quieres eliminar a ",e.jsx("strong",{children:c}),"?"]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[e.jsx(i,{variant:"outline",onClick:s,children:"Cancelar"}),e.jsx(i,{variant:"destructive",onClick:o,children:"Eliminar"})]})]})})}function P({open:t,onClose:s,message:o}){return e.jsx(f,{open:t,onOpenChange:s,children:e.jsxs(h,{className:"max-w-md",children:[e.jsxs(j,{children:[e.jsx(C,{children:"Éxito"}),e.jsx(S,{children:o})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx(i,{onClick:s,children:"Aceptar"})})]})})}const $=[{title:"Clientes",href:"/clientes"}];function fe({clientes:t,filters:s}){const{search:o,setSearch:c,handleSearch:d}=I(s?.search||""),[n,l]=a.useState(null),[v,g]=a.useState(!1),[M,m]=a.useState(!1),[k,p]=a.useState(!1),[b,u]=a.useState(!1),[y,x]=a.useState(!1),[E,N]=a.useState(!1);return e.jsxs(_,{breadcrumbs:$,children:[e.jsx(O,{title:"Clientes"}),e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-xl font-bold mb-4",children:" Clientes"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(w,{search:o,setSearch:c,handleSearch:d}),e.jsx(i,{className:"mb-4",variant:"secondary",size:"sm",onClick:()=>p(!0),children:"Nuevo Cliente"})]}),e.jsx(A,{clientes:t.data,onSelect:r=>{l(r),g(!0)},onEdit:r=>{l(r),m(!0)},onDelete:r=>{l(r),x(!0)}}),e.jsx(z,{links:t.links}),v&&n&&e.jsx(B,{cliente:n,onClose:()=>{g(!1),l(null)}}),e.jsx(H,{open:k,onClose:()=>p(!1),onSuccess:()=>{p(!1),u(!0)}}),M&&n&&e.jsx(R,{open:M,cliente:n,onClose:()=>{m(!1),l(null)},onSuccess:()=>{m(!1),l(null),u(!0)}}),e.jsx(F,{open:y,onClose:()=>{x(!1),l(null)},onConfirm:()=>{n&&D.delete(route("clientes.destroy",n.id),{onSuccess:()=>{x(!1),N(!0)},onError:()=>{}})},itemName:n?.nombre_razon_social||""}),e.jsx(P,{open:E,onClose:()=>{N(!1),l(null)},message:`El cliente ${n?.nombre_razon_social??""} fue eliminado correctamente.`}),e.jsx(T,{open:b,onClose:()=>u(!1)})]})]})}export{fe as default};
