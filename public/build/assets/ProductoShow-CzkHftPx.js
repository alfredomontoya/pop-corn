import{r as c,j as e,H as x}from"./app-BptPjD3z.js";import{Z as h}from"./ZoomImageModal-BXjQHd3B.js";import{A as p}from"./app-layout-CmfWQkF8.js";/* empty css            */import"./Edit-DSh88ZNs.js";import"./button-YlEUOrkT.js";import"./index-CKqZ0YDH.js";import"./createLucideIcon-B3T4r_g0.js";import"./index-CX3o33-i.js";import"./index-CQYQARK0.js";import"./index-B1quYXf_.js";import"./app-logo-icon-BGFTalqf.js";const j=({producto:s})=>{const[a,i]=c.useState(!1),[m,n]=c.useState("");if(!s.imagenes||s.imagenes.length===0)return null;const t=s.imagenes.find(r=>r.es_principal);return e.jsxs("div",{children:[t&&e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("img",{src:t.imagen.startsWith("http")?t.imagen:`/storage/${t.imagen}`,alt:s.nombre,className:"w-56 h-56 object-cover rounded-lg border-4 border-blue-500 shadow-md cursor-pointer hover:opacity-90 transition",onClick:()=>{n(t.imagen.startsWith("http")?t.imagen:`/storage/${t.imagen}`),i(!0)}})}),e.jsx("span",{className:"font-semibold",children:"Imágenes:"}),e.jsx("div",{className:"grid grid-cols-3 gap-3 mt-2",children:s.imagenes.map(r=>{const l=r.imagen.startsWith("http")?r.imagen:`/storage/${r.imagen}`;return e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:l,alt:s.nombre,className:`w-full h-28 object-cover rounded cursor-pointer hover:opacity-90 transition ${r.es_principal?"border-4 border-blue-500":"border"}`,onClick:()=>{n(l),i(!0)}}),r.es_principal&&e.jsx("span",{className:"absolute top-1 left-1 bg-blue-500 text-white text-xs px-1.5 py-0.5 rounded",children:"Principal"})]},r.id)})}),e.jsx(h,{open:a,onOpenChange:i,src:m,alt:s.nombre})]})},o=s=>s?new Date(s).toLocaleDateString():"—",b=({producto:s})=>!s.precios||s.precios.length===0?null:e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Historial de precios:"}),e.jsxs("table",{className:"w-full mt-2 border text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[e.jsx("th",{className:"px-2 py-1 text-left",children:"Precio Venta"}),e.jsx("th",{className:"px-2 py-1 text-left",children:"Precio Compra"}),e.jsx("th",{className:"px-2 py-1 text-left",children:"Activo"}),e.jsx("th",{className:"px-2 py-1 text-left",children:"Inicio"}),e.jsx("th",{className:"px-2 py-1 text-left",children:"Fin"})]})}),e.jsx("tbody",{children:s.precios.map(a=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-2 py-1",children:a.precio_venta}),e.jsx("td",{className:"px-2 py-1",children:a.precio_compra}),e.jsx("td",{className:"px-2 py-1",children:a.activo?"Sí":"No"}),e.jsx("td",{className:"px-2 py-1",children:o(a.fecha_inicio)}),e.jsx("td",{className:"px-2 py-1",children:o(a.fecha_fin)})]},a.id))})]})]}),d=s=>s?new Date(s).toLocaleDateString():"—",g=({producto:s})=>s?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-lg overflow-y-auto",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Detalle del Producto"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:"Información completa del producto seleccionado."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"ID:"})," ",s.id]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Nombre:"})," ",s.nombre]}),s.descripcion&&e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Descripción:"})," ",s.descripcion]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Categoría:"})," ",s.categoria?.nombre??"—"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Precio actual:"})," ",s.precio_activo?.precio_venta??"—"," ",e.jsxs("span",{className:"ml-2 text-xs px-2 py-0.5 rounded bg-gray-200 dark:bg-gray-700",children:["Activo: ",s.precio_activo?.activo?"Sí":"No"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Creado:"})," ",d(s.created_at)]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Actualizado:"})," ",d(s.updated_at)]}),e.jsx(j,{producto:s}),e.jsx(b,{producto:s})]})]}):e.jsx("div",{children:"No hay producto seleccionado."}),f=[{title:"Productos",href:"/productos"}],$=({producto:s})=>(console.log(s),e.jsx(p,{breadcrumbs:f,children:e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsx(x,{title:`Producto: ${s?.nombre??"Detalle"}`}),e.jsx("h1",{className:"text-2xl font-bold mb-4",children:s?.nombre??"Producto"}),e.jsx(g,{producto:s??null})]})}));export{$ as default};
