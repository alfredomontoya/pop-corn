import{r as n,u,a as l}from"./app-Dirc8Dxq.js";function _(a=""){const[r,i]=n.useState(a),c=e=>{e.preventDefault(),l.get(route("ventas.index"),{search:r},{preserveState:!0})},o=u({cliente_id:void 0,tipo_pago_id:void 0,total:0,efectivo:0,cambio:0,estado:"pendiente",detalles:[]});return{search:r,setSearch:i,handleSearch:c,form:o,saveVenta:(e,s)=>{o.setData({cliente_id:e.cliente_id,tipo_pago_id:e.tipo_pago_id,total:e.total,efectivo:e.efectivo,cambio:e.cambio,estado:e.estado,detalles:(e.detalles??[]).map(t=>({producto_id:t.producto_id,cantidad:t.cantidad,precio_unitario:t.precio_unitario,subtotal:t.subtotal}))}),s?o.put(route("ventas.update",s),{onSuccess:()=>o.reset(),onError:t=>console.error("❌ Errores al actualizar:",t)}):o.post(route("ventas.store"),{onSuccess:()=>o.reset(),onError:t=>console.error("❌ Errores al crear:",t)})}}}export{_ as u};
