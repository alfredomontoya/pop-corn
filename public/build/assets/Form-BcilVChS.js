import{u as g,r as u,j as e}from"./app-BdN3KFFc.js";/* empty css            */function w({movimiento:l,tipo:p,clientes:i}){const x=new Date().toISOString().split("T")[0],{data:a,setData:n,post:h,put:b,processing:m,errors:t}=g({nro:l?.nro??0,tipo:l?.tipo??p??"ingreso",descripcion:l?.descripcion??"",fecha:l?.fecha??x,total:l?.total??0,cliente_id:l?.cliente_id??null}),[c,o]=u.useState(""),[r,j]=u.useState(i.find(s=>s.id===l?.cliente_id)??null),d=i.filter(s=>s.nombre_razon_social.toLowerCase().includes(c.toLowerCase())),f=s=>{if(s.preventDefault(),!r)return alert("Debe seleccionar un cliente");n("cliente_id",r.id),l?b(`/movimientos/${l.id}`):h("/movimientos")};return e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold mb-1",children:"Cliente"}),e.jsx("input",{type:"text",value:c,onChange:s=>o(s.target.value),placeholder:"Buscar cliente...",className:"border p-2 w-full"}),c&&e.jsxs("ul",{className:"border rounded mt-2 max-h-40 overflow-y-auto bg-white shadow",children:[d.map(s=>e.jsx("li",{onClick:()=>{j(s),o("")},className:"p-2 hover:bg-gray-100 cursor-pointer",children:s.nombre_razon_social},s.id)),d.length===0&&e.jsx("li",{className:"p-2 text-gray-500",children:"No se encontraron clientes"})]}),r&&e.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["Cliente seleccionado: ",e.jsx("strong",{children:r.nombre_razon_social})]})]}),l&&e.jsx("input",{type:"hidden",value:a.nro,disabled:!0}),e.jsx("input",{type:"hidden",value:a.tipo==="ingreso"?"Ingreso":"Egreso",disabled:!0}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold mb-1",children:"Descripción"}),e.jsx("textarea",{value:a.descripcion,onChange:s=>n("descripcion",s.target.value),placeholder:"Descripción",className:"border p-2 w-full"}),t.descripcion&&e.jsx("p",{className:"text-red-500 text-sm",children:t.descripcion})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold mb-1",children:"Fecha"}),e.jsx("input",{type:"date",value:a.fecha,onChange:s=>n("fecha",s.target.value),className:"border p-2 w-full"}),t.fecha&&e.jsx("p",{className:"text-red-500 text-sm",children:t.fecha})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-semibold mb-1",children:"Total"}),e.jsx("input",{type:"number",value:a.total,className:"border p-2 w-full bg-gray/100 cursor-not-allowed",disabled:!0})]}),e.jsx("button",{disabled:m,className:"bg-green-500 text-white px-4 py-2 rounded",children:l?"Actualizar":"Crear"})]})}export{w as default};
